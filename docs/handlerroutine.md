---
title: HandlerRoutine 回呼函式
description: 搭配 SetConsoleCtrlHandler 函數使用的應用程式定義函數。 主控台進程會使用此函式來處理處理常式所接收的控制信號。
author: miniksa
ms.author: miniksa
ms.topic: article
keywords: 主控台，字元模式應用程式，命令列應用程式，終端應用程式，主控台 api
f1_keywords:
- consoleapi/HandlerRoutine
- wincon/HandlerRoutine
- HandlerRoutine
MS-HAID:
- '\_win32\_handlerroutine'
- base.handlerroutine
- consoles.handlerroutine
MSHAttr:
- PreferredSiteName:MSDN
- PreferredLib:/library/windows/desktop
ms.assetid: 2e8732fa-7dfd-415b-b2fc-c27a400496f2
topic_type:
- apiref
api_name:
- HandlerRoutine
api_location:
- Wincon.h
api_type:
- UserDefined
ms.openlocfilehash: 14205baaddd98c8c22881c5f448119412e1f4a1c
ms.sourcegitcommit: b75f4688e080d300b80c552d0711fdd86b9974bf
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 08/24/2020
ms.locfileid: "89059331"
---
# <a name="handlerroutine-callback-function"></a><span data-ttu-id="fbf17-105">HandlerRoutine 回呼函式</span><span class="sxs-lookup"><span data-stu-id="fbf17-105">HandlerRoutine callback function</span></span>


<span data-ttu-id="fbf17-106">搭配 [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) 函數使用的應用程式定義函數。</span><span class="sxs-lookup"><span data-stu-id="fbf17-106">An application-defined function used with the [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) function.</span></span> <span data-ttu-id="fbf17-107">主控台進程會使用此函式來處理處理常式所接收的控制信號。</span><span class="sxs-lookup"><span data-stu-id="fbf17-107">A console process uses this function to handle control signals received by the process.</span></span> <span data-ttu-id="fbf17-108">收到信號時，系統會在進程中建立新的執行緒，以執行函式。</span><span class="sxs-lookup"><span data-stu-id="fbf17-108">When the signal is received, the system creates a new thread in the process to execute the function.</span></span>

<span data-ttu-id="fbf17-109">**PHANDLER \_ 常式**類型會定義此回呼函數的指標。</span><span class="sxs-lookup"><span data-stu-id="fbf17-109">The **PHANDLER\_ROUTINE** type defines a pointer to this callback function.</span></span> <span data-ttu-id="fbf17-110">**HandlerRoutine** 是應用程式定義函數名稱的預留位置。</span><span class="sxs-lookup"><span data-stu-id="fbf17-110">**HandlerRoutine** is a placeholder for the application-defined function name.</span></span>

<a name="syntax"></a><span data-ttu-id="fbf17-111">語法</span><span class="sxs-lookup"><span data-stu-id="fbf17-111">Syntax</span></span>
------

```C
BOOL WINAPI HandlerRoutine(
  _In_ DWORD dwCtrlType
);
```

<a name="parameters"></a><span data-ttu-id="fbf17-112">參數</span><span class="sxs-lookup"><span data-stu-id="fbf17-112">Parameters</span></span>
----------

<span data-ttu-id="fbf17-113">*dwCtrlType* \[在\]</span><span class="sxs-lookup"><span data-stu-id="fbf17-113">*dwCtrlType* \[in\]</span></span>  
<span data-ttu-id="fbf17-114">處理常式接收的控制項信號類型。</span><span class="sxs-lookup"><span data-stu-id="fbf17-114">The type of control signal received by the handler.</span></span> <span data-ttu-id="fbf17-115">這個參數可以是下列其中一個值。</span><span class="sxs-lookup"><span data-stu-id="fbf17-115">This parameter can be one of the following values.</span></span>

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th><span data-ttu-id="fbf17-116">值</span><span class="sxs-lookup"><span data-stu-id="fbf17-116">Value</span></span></th>
<th><span data-ttu-id="fbf17-117">意義</span><span class="sxs-lookup"><span data-stu-id="fbf17-117">Meaning</span></span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span data-ttu-id="fbf17-118"><span id="CTRL_C_EVENT"></span><span id="ctrl_c_event"></span>
<strong>CTRL_C_EVENT</strong> 0</span><span class="sxs-lookup"><span data-stu-id="fbf17-118"><span id="CTRL_C_EVENT"></span><span id="ctrl_c_event"></span>
<strong>CTRL_C_EVENT</strong> 0</span></span></td>
<td><p><span data-ttu-id="fbf17-119">從鍵盤輸入或 <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a> 函式所產生的信號收到 CTRL + C 信號。</span><span class="sxs-lookup"><span data-stu-id="fbf17-119">A CTRL+C signal was received, either from keyboard input or from a signal generated by the <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a> function.</span></span></p></td>
</tr>
<tr class="even">
<td><span data-ttu-id="fbf17-120"><span id="CTRL_BREAK_EVENT"></span><span id="ctrl_break_event"></span>
<strong>CTRL_BREAK_EVENT</strong> 1</span><span class="sxs-lookup"><span data-stu-id="fbf17-120"><span id="CTRL_BREAK_EVENT"></span><span id="ctrl_break_event"></span>
<strong>CTRL_BREAK_EVENT</strong> 1</span></span></td>
<td><p><span data-ttu-id="fbf17-121">從鍵盤輸入或 <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>所產生的信號收到 CTRL + 中斷信號。</span><span class="sxs-lookup"><span data-stu-id="fbf17-121">A CTRL+BREAK signal was received, either from keyboard input or from a signal generated by <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>.</span></span></p></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="fbf17-122"><span id="CTRL_CLOSE_EVENT"></span><span id="ctrl_close_event"></span>
<strong>CTRL_CLOSE_EVENT</strong> 2</span><span class="sxs-lookup"><span data-stu-id="fbf17-122"><span id="CTRL_CLOSE_EVENT"></span><span id="ctrl_close_event"></span>
<strong>CTRL_CLOSE_EVENT</strong> 2</span></span></td>
<td><p><span data-ttu-id="fbf17-123">當使用者關閉主控台時，系統傳送給連接到主控台的所有進程的信號， (在主控台&#39;視窗上按一下 [ <strong>關閉</strong> ]，或是按一下工作管理員) 中的 [ <strong>結束</strong> 工作] 按鈕命令。</span><span class="sxs-lookup"><span data-stu-id="fbf17-123">A signal that the system sends to all processes attached to a console when the user closes the console (either by clicking <strong>Close</strong> on the console window&#39;s window menu, or by clicking the <strong>End Task</strong> button command from Task Manager).</span></span></p></td>
</tr>
<tr class="even">
<td><span data-ttu-id="fbf17-124"><span id="CTRL_LOGOFF_EVENT"></span><span id="ctrl_logoff_event"></span>
<strong>CTRL_LOGOFF_EVENT</strong> 5</span><span class="sxs-lookup"><span data-stu-id="fbf17-124"><span id="CTRL_LOGOFF_EVENT"></span><span id="ctrl_logoff_event"></span>
<strong>CTRL_LOGOFF_EVENT</strong> 5</span></span></td>
<td><p><span data-ttu-id="fbf17-125">當使用者登出時，系統傳送給所有主控台進程的信號。</span><span class="sxs-lookup"><span data-stu-id="fbf17-125">A signal that the system sends to all console processes when a user is logging off.</span></span> <span data-ttu-id="fbf17-126">此信號不會指出正在登出的使用者，因此不會進行任何假設。</span><span class="sxs-lookup"><span data-stu-id="fbf17-126">This signal does not indicate which user is logging off, so no assumptions can be made.</span></span></p>
<p><span data-ttu-id="fbf17-127">請注意，只有服務會收到此信號。</span><span class="sxs-lookup"><span data-stu-id="fbf17-127">Note that this signal is received only by services.</span></span> <span data-ttu-id="fbf17-128">互動式應用程式會在登出時終止，因此當系統傳送此信號時，不會出現這些應用程式。</span><span class="sxs-lookup"><span data-stu-id="fbf17-128">Interactive applications are terminated at logoff, so they are not present when the system sends this signal.</span></span></p></td>
</tr>
<tr class="odd">
<td><span data-ttu-id="fbf17-129"><span id="CTRL_SHUTDOWN_EVENT"></span><span id="ctrl_shutdown_event"></span>
<strong>CTRL_SHUTDOWN_EVENT</strong> 6</span><span class="sxs-lookup"><span data-stu-id="fbf17-129"><span id="CTRL_SHUTDOWN_EVENT"></span><span id="ctrl_shutdown_event"></span>
<strong>CTRL_SHUTDOWN_EVENT</strong> 6</span></span></td>
<td><p><span data-ttu-id="fbf17-130">系統正在關閉時，系統所傳送的信號。</span><span class="sxs-lookup"><span data-stu-id="fbf17-130">A signal that the system sends when the system is shutting down.</span></span> <span data-ttu-id="fbf17-131">當系統傳送此信號時，不會出現互動式應用程式，因此在這種情況下，只能使用服務來接收。</span><span class="sxs-lookup"><span data-stu-id="fbf17-131">Interactive applications are not present by the time the system sends this signal, therefore it can be received only be services in this situation.</span></span> <span data-ttu-id="fbf17-132">服務也有自己的關機事件通知機制。</span><span class="sxs-lookup"><span data-stu-id="fbf17-132">Services also have their own notification mechanism for shutdown events.</span></span> <span data-ttu-id="fbf17-133">如需詳細資訊，請參閱 <a href="https://msdn.microsoft.com/library/windows/desktop/ms683240" data-raw-source="[&lt;strong&gt;Handler&lt;/strong&gt;](https://msdn.microsoft.com/library/windows/desktop/ms683240)"><strong>處理常式</strong></a>。</span><span class="sxs-lookup"><span data-stu-id="fbf17-133">For more information, see <a href="https://msdn.microsoft.com/library/windows/desktop/ms683240" data-raw-source="[&lt;strong&gt;Handler&lt;/strong&gt;](https://msdn.microsoft.com/library/windows/desktop/ms683240)"><strong>Handler</strong></a>.</span></span></p>
<p><span data-ttu-id="fbf17-134">此信號也可以由使用 <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>的應用程式產生。</span><span class="sxs-lookup"><span data-stu-id="fbf17-134">This signal can also be generated by an application using <a href="generateconsolectrlevent.md" data-raw-source="[&lt;strong&gt;GenerateConsoleCtrlEvent&lt;/strong&gt;](generateconsolectrlevent.md)"><strong>GenerateConsoleCtrlEvent</strong></a>.</span></span></p></td>
</tr>
<tr class="even">
</tr>
<tr class="odd">
</tr>
<tr class="even">
</tr>
</tbody>
</table>

 

<a name="return-value"></a><span data-ttu-id="fbf17-135">傳回值</span><span class="sxs-lookup"><span data-stu-id="fbf17-135">Return value</span></span>
------------

<span data-ttu-id="fbf17-136">如果函式處理控制項信號，則應該傳回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="fbf17-136">If the function handles the control signal, it should return **TRUE**.</span></span> <span data-ttu-id="fbf17-137">如果傳回 **FALSE**，則會使用此處理程式的處理常式清單中的下一個處理常式函數。</span><span class="sxs-lookup"><span data-stu-id="fbf17-137">If it returns **FALSE**, the next handler function in the list of handlers for this process is used.</span></span>

<a name="remarks"></a><span data-ttu-id="fbf17-138">備註</span><span class="sxs-lookup"><span data-stu-id="fbf17-138">Remarks</span></span>
-------

<span data-ttu-id="fbf17-139">由於系統會在執行處理常式函式的進程中建立新執行緒，因此進程中的另一個執行緒可能會終止處理常式函數。</span><span class="sxs-lookup"><span data-stu-id="fbf17-139">Because the system creates a new thread in the process to execute the handler function, it is possible that the handler function will be terminated by another thread in the process.</span></span> <span data-ttu-id="fbf17-140">請務必將進程中的執行緒與處理函式的執行緒同步處理。</span><span class="sxs-lookup"><span data-stu-id="fbf17-140">Be sure to synchronize threads in the process with the thread for the handler function.</span></span>

<span data-ttu-id="fbf17-141">每個主控台進程都有自己的 **HandlerRoutine** 函式清單。</span><span class="sxs-lookup"><span data-stu-id="fbf17-141">Each console process has its own list of **HandlerRoutine** functions.</span></span> <span data-ttu-id="fbf17-142">一開始，此清單只包含呼叫 [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658)的預設處理函式。</span><span class="sxs-lookup"><span data-stu-id="fbf17-142">Initially, this list contains only a default handler function that calls [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658).</span></span> <span data-ttu-id="fbf17-143">主控台處理常式會藉由呼叫 [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) 函式來新增或移除其他處理函式，而不會影響其他進程的處理常式函式清單。</span><span class="sxs-lookup"><span data-stu-id="fbf17-143">A console process adds or removes additional handler functions by calling the [**SetConsoleCtrlHandler**](setconsolectrlhandler.md) function, which does not affect the list of handler functions for other processes.</span></span> <span data-ttu-id="fbf17-144">當主控台進程接收到任何控制信號時，會在最後一次註冊的第一個呼叫的基礎上呼叫其處理函式，直到其中一個處理常式傳回 **TRUE**為止。</span><span class="sxs-lookup"><span data-stu-id="fbf17-144">When a console process receives any of the control signals, its handler functions are called on a last-registered, first-called basis until one of the handlers returns **TRUE**.</span></span> <span data-ttu-id="fbf17-145">如果沒有任何處理程式傳回 **TRUE**，則會呼叫預設處理常式。</span><span class="sxs-lookup"><span data-stu-id="fbf17-145">If none of the handlers returns **TRUE**, the default handler is called.</span></span>

<span data-ttu-id="fbf17-146">**Ctrl \_ CLOSE \_ 事件**、 **ctrl \_ 登出 \_ 事件**和**ctrl \_ SHUTDOWN \_ 事件**信號讓處理常式有機會在終止前進行清除。</span><span class="sxs-lookup"><span data-stu-id="fbf17-146">The **CTRL\_CLOSE\_EVENT**, **CTRL\_LOGOFF\_EVENT**, and **CTRL\_SHUTDOWN\_EVENT** signals give the process an opportunity to clean up before termination.</span></span> <span data-ttu-id="fbf17-147">**HandlerRoutine**可以執行任何必要的清除，然後採取下列其中一項動作：</span><span class="sxs-lookup"><span data-stu-id="fbf17-147">A **HandlerRoutine** can perform any necessary cleanup, then take one of the following actions:</span></span>

- <span data-ttu-id="fbf17-148">呼叫 [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) 函式以終止進程。</span><span class="sxs-lookup"><span data-stu-id="fbf17-148">Call the [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) function to terminate the process.</span></span>
- <span data-ttu-id="fbf17-149">傳回 **FALSE**。</span><span class="sxs-lookup"><span data-stu-id="fbf17-149">Return **FALSE**.</span></span> <span data-ttu-id="fbf17-150">如果沒有任何已註冊的處理常式函式傳回 **TRUE**，則預設處理常式會終止進程。</span><span class="sxs-lookup"><span data-stu-id="fbf17-150">If none of the registered handler functions returns **TRUE**, the default handler terminates the process.</span></span>
- <span data-ttu-id="fbf17-151">傳回 **TRUE**。</span><span class="sxs-lookup"><span data-stu-id="fbf17-151">Return **TRUE**.</span></span> <span data-ttu-id="fbf17-152">在此情況下，不會呼叫任何其他處理常式函式，而且系統會終止進程。</span><span class="sxs-lookup"><span data-stu-id="fbf17-152">In this case, no other handler functions are called and the system terminates the process.</span></span>

<span data-ttu-id="fbf17-153">處理常式可以使用 [**SetProcessShutdownParameters**](https://msdn.microsoft.com/library/windows/desktop/ms686227) 函式，防止系統在登出或關閉期間，向使用者顯示對話方塊。</span><span class="sxs-lookup"><span data-stu-id="fbf17-153">A process can use the [**SetProcessShutdownParameters**](https://msdn.microsoft.com/library/windows/desktop/ms686227) function to prevent the system from displaying a dialog box to the user during logoff or shutdown.</span></span> <span data-ttu-id="fbf17-154">在這種情況下，系統會在 **HandlerRoutine** 傳回 **TRUE** 或超時期間結束時終止進程。</span><span class="sxs-lookup"><span data-stu-id="fbf17-154">In this case, the system terminates the process when **HandlerRoutine** returns **TRUE** or when the time-out period elapses.</span></span>

<span data-ttu-id="fbf17-155">當主控台應用程式以服務的形式執行時，它會收到修改過的預設主控台控制處理常式。</span><span class="sxs-lookup"><span data-stu-id="fbf17-155">When a console application is run as a service, it receives a modified default console control handler.</span></span> <span data-ttu-id="fbf17-156">這個修改過的處理常式不會在處理**ctrl \_ 登出 \_ 事件**和**ctrl \_ 關機 \_ 事件**信號時呼叫[**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) 。</span><span class="sxs-lookup"><span data-stu-id="fbf17-156">This modified handler does not call [**ExitProcess**](https://msdn.microsoft.com/library/windows/desktop/ms682658) when processing the **CTRL\_LOGOFF\_EVENT** and **CTRL\_SHUTDOWN\_EVENT** signals.</span></span> <span data-ttu-id="fbf17-157">這可讓服務在使用者登出之後繼續執行。</span><span class="sxs-lookup"><span data-stu-id="fbf17-157">This allows the service to continue running after the user logs off.</span></span> <span data-ttu-id="fbf17-158">如果服務安裝本身的主控台控制處理常式，則會在預設處理常式之前呼叫此處理程式。</span><span class="sxs-lookup"><span data-stu-id="fbf17-158">If the service installs its own console control handler, this handler is called before the default handler.</span></span> <span data-ttu-id="fbf17-159">如果已安裝的處理常式在處理**CTRL \_ 登出 \_ 事件**信號時呼叫**ExitProcess** ，則服務會在使用者登出時結束。</span><span class="sxs-lookup"><span data-stu-id="fbf17-159">If the installed handler calls **ExitProcess** when processing the **CTRL\_LOGOFF\_EVENT** signal, the service exits when the user logs off.</span></span>

<span data-ttu-id="fbf17-160">請注意，協力廠商程式庫或 DLL 可以為您的應用程式安裝主控台控制處理常式。</span><span class="sxs-lookup"><span data-stu-id="fbf17-160">Note that a third-party library or DLL can install a console control handler for your application.</span></span> <span data-ttu-id="fbf17-161">如果有的話，這個處理常式會覆寫預設的處理常式，而且可能會在使用者登出時讓應用程式結束。</span><span class="sxs-lookup"><span data-stu-id="fbf17-161">If it does, this handler overrides the default handler, and can cause the application to exit when the user logs off.</span></span>

## <a name="timeouts"></a><span data-ttu-id="fbf17-162">逾時</span><span class="sxs-lookup"><span data-stu-id="fbf17-162">Timeouts</span></span>

| <span data-ttu-id="fbf17-163">事件</span><span class="sxs-lookup"><span data-stu-id="fbf17-163">Event</span></span>                  | <span data-ttu-id="fbf17-164">情況</span><span class="sxs-lookup"><span data-stu-id="fbf17-164">Circumstances</span></span>                   | <span data-ttu-id="fbf17-165">逾時</span><span class="sxs-lookup"><span data-stu-id="fbf17-165">Timeout</span></span>                                                     |
|------------------------|---------------------------------|-------------------------------------------------------------|
| `CTRL_CLOSE_EVENT`     | <span data-ttu-id="fbf17-166">_任何_</span><span class="sxs-lookup"><span data-stu-id="fbf17-166">_any_</span></span>                           | <span data-ttu-id="fbf17-167">系統參數 `SPI_GETHUNGAPPTIMEOUT` ，5000毫秒</span><span class="sxs-lookup"><span data-stu-id="fbf17-167">system parameter `SPI_GETHUNGAPPTIMEOUT`, 5000ms</span></span>            |
| `CTRL_LOGOFF_EVENT`    | <span data-ttu-id="fbf17-168">_快速_[1]</span><span class="sxs-lookup"><span data-stu-id="fbf17-168">_quick_[1]</span></span> | <span data-ttu-id="fbf17-169">登錄機碼 `CriticalAppShutdownTimeout` 或500毫秒</span><span class="sxs-lookup"><span data-stu-id="fbf17-169">registry key `CriticalAppShutdownTimeout` or 500ms</span></span>          |
| `CTRL_LOGOFF_EVENT`    | <span data-ttu-id="fbf17-170">_以上皆非_</span><span class="sxs-lookup"><span data-stu-id="fbf17-170">_none of the above_</span></span>             | <span data-ttu-id="fbf17-171">系統參數 `SPI_GETWAITTOKILLTIMEOUT` ，5000毫秒</span><span class="sxs-lookup"><span data-stu-id="fbf17-171">system parameter `SPI_GETWAITTOKILLTIMEOUT`, 5000ms</span></span>         |
| `CTRL_SHUTDOWN_EVENT`  | <span data-ttu-id="fbf17-172">**服務進程**</span><span class="sxs-lookup"><span data-stu-id="fbf17-172">**service process**</span></span>             | <span data-ttu-id="fbf17-173">系統參數 `SPI_GETWAITTOKILLSERVICETIMEOUT` ，20000ms</span><span class="sxs-lookup"><span data-stu-id="fbf17-173">system parameter `SPI_GETWAITTOKILLSERVICETIMEOUT`, 20000ms</span></span> |
| `CTRL_SHUTDOWN_EVENT`  | <span data-ttu-id="fbf17-174">_快速_[1]</span><span class="sxs-lookup"><span data-stu-id="fbf17-174">_quick_[1]</span></span> | <span data-ttu-id="fbf17-175">登錄機碼 `CriticalAppShutdownTimeout` 或500毫秒</span><span class="sxs-lookup"><span data-stu-id="fbf17-175">registry key `CriticalAppShutdownTimeout` or 500ms</span></span>          |
| `CTRL_SHUTDOWN_EVENT`  | <span data-ttu-id="fbf17-176">_以上皆非_</span><span class="sxs-lookup"><span data-stu-id="fbf17-176">_none of the above_</span></span>             | <span data-ttu-id="fbf17-177">系統參數 `SPI_GETWAITTOKILLTIMEOUT` ，5000毫秒</span><span class="sxs-lookup"><span data-stu-id="fbf17-177">system parameter `SPI_GETWAITTOKILLTIMEOUT`, 5000ms</span></span>         |
| <span data-ttu-id="fbf17-178">`CTRL_C`, `CTRL_BREAK`</span><span class="sxs-lookup"><span data-stu-id="fbf17-178">`CTRL_C`, `CTRL_BREAK`</span></span> | <span data-ttu-id="fbf17-179">_任何_</span><span class="sxs-lookup"><span data-stu-id="fbf17-179">_any_</span></span>                           | <span data-ttu-id="fbf17-180">**無 timeout**</span><span class="sxs-lookup"><span data-stu-id="fbf17-180">**no timeout**</span></span>                                              |

<span data-ttu-id="fbf17-181">_[1]：永不使用「快速」事件，但仍有程式碼可支援它們。_</span><span class="sxs-lookup"><span data-stu-id="fbf17-181">_[1]: "quick" events are never used, but there's still code to support them._</span></span>

<a name="requirements"></a><span data-ttu-id="fbf17-182">規格需求</span><span class="sxs-lookup"><span data-stu-id="fbf17-182">Requirements</span></span>
------------

<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<tbody>
<tr class="odd">
<td><p><span data-ttu-id="fbf17-183">最低支援的用戶端</span><span class="sxs-lookup"><span data-stu-id="fbf17-183">Minimum supported client</span></span></p></td>
<td><p><span data-ttu-id="fbf17-184">Windows 2000 Professional [僅限桌面應用程式]</span><span class="sxs-lookup"><span data-stu-id="fbf17-184">Windows 2000 Professional [desktop apps only]</span></span></p></td>
</tr>
<tr class="even">
<td><p><span data-ttu-id="fbf17-185">最低支援的伺服器</span><span class="sxs-lookup"><span data-stu-id="fbf17-185">Minimum supported server</span></span></p></td>
<td><p><span data-ttu-id="fbf17-186">Windows 2000 伺服器 [僅限桌面應用程式]</span><span class="sxs-lookup"><span data-stu-id="fbf17-186">Windows 2000 Server [desktop apps only]</span></span></p></td>
</tr>
<tr class="odd">
<td><p><span data-ttu-id="fbf17-187">標頭</span><span class="sxs-lookup"><span data-stu-id="fbf17-187">Header</span></span></p></td>
<td><span data-ttu-id="fbf17-188">ConsoleApi .h (via Wincon，包括 Windows .h) </span><span class="sxs-lookup"><span data-stu-id="fbf17-188">ConsoleApi.h (via Wincon.h, include Windows.h)</span></span></td>
</tr>
</tbody>
</table>

## <a name="span-idsee_alsospansee-also"></a><span data-ttu-id="fbf17-189"><span id="see_also"></span>另請參閱</span><span class="sxs-lookup"><span data-stu-id="fbf17-189"><span id="see_also"></span>See also</span></span>


[<span data-ttu-id="fbf17-190">主控台控制處理常式</span><span class="sxs-lookup"><span data-stu-id="fbf17-190">Console Control Handlers</span></span>](console-control-handlers.md)

[<span data-ttu-id="fbf17-191">主控台功能</span><span class="sxs-lookup"><span data-stu-id="fbf17-191">Console Functions</span></span>](console-functions.md)

[<span data-ttu-id="fbf17-192">**ExitProcess**</span><span class="sxs-lookup"><span data-stu-id="fbf17-192">**ExitProcess**</span></span>](https://msdn.microsoft.com/library/windows/desktop/ms682658)

[<span data-ttu-id="fbf17-193">**GenerateConsoleCtrlEvent**</span><span class="sxs-lookup"><span data-stu-id="fbf17-193">**GenerateConsoleCtrlEvent**</span></span>](generateconsolectrlevent.md)

[<span data-ttu-id="fbf17-194">**GetProcessShutdownParameters**</span><span class="sxs-lookup"><span data-stu-id="fbf17-194">**GetProcessShutdownParameters**</span></span>](https://msdn.microsoft.com/library/windows/desktop/ms683221)

[<span data-ttu-id="fbf17-195">**SetConsoleCtrlHandler**</span><span class="sxs-lookup"><span data-stu-id="fbf17-195">**SetConsoleCtrlHandler**</span></span>](setconsolectrlhandler.md)

[<span data-ttu-id="fbf17-196">**SetProcessShutdownParameters**</span><span class="sxs-lookup"><span data-stu-id="fbf17-196">**SetProcessShutdownParameters**</span></span>](https://msdn.microsoft.com/library/windows/desktop/ms686227)

 

 




