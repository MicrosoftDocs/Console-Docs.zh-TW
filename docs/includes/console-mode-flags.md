---
ms.openlocfilehash: fd8ccdcd4c86ee51ea14c5db6092982a1f4a0f7f
ms.sourcegitcommit: 463975e71920908a6bff9a6a7291ddf3736652d5
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 10/30/2020
ms.locfileid: "93038639"
---
<span data-ttu-id="35f05-101">如果 *hConsoleHandle* 參數是輸入控制碼，此模式可以是下列一或多個值。</span><span class="sxs-lookup"><span data-stu-id="35f05-101">If the *hConsoleHandle* parameter is an input handle, the mode can be one or more of the following values.</span></span> <span data-ttu-id="35f05-102">建立主控台時，預設會啟用 [ **啟用 \_ 視窗 \_ 輸入]** 以外的所有輸入模式。</span><span class="sxs-lookup"><span data-stu-id="35f05-102">When a console is created, all input modes except **ENABLE\_WINDOW\_INPUT** are enabled by default.</span></span>

| <span data-ttu-id="35f05-103">值</span><span class="sxs-lookup"><span data-stu-id="35f05-103">Value</span></span> | <span data-ttu-id="35f05-104">意義</span><span class="sxs-lookup"><span data-stu-id="35f05-104">Meaning</span></span> |
|-|-|
| <span data-ttu-id="35f05-105">**ENABLE_ECHO_INPUT** 0x0004</span><span class="sxs-lookup"><span data-stu-id="35f05-105">**ENABLE_ECHO_INPUT** 0x0004</span></span> | <span data-ttu-id="35f05-106">**[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** 或 **[ReadConsole](../readconsole.md)** 函式讀取的字元會在讀取時寫入至作用中螢幕緩衝區。</span><span class="sxs-lookup"><span data-stu-id="35f05-106">Characters read by the **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** or **[ReadConsole](../readconsole.md)** function are written to the active screen buffer as they are read.</span></span> <span data-ttu-id="35f05-107">只有在同時啟用 **ENABLE_LINE_INPUT** 模式時，才能使用這個模式。</span><span class="sxs-lookup"><span data-stu-id="35f05-107">This mode can be used only if the **ENABLE_LINE_INPUT** mode is also enabled.</span></span> |
| <span data-ttu-id="35f05-108">**ENABLE_INSERT_MODE** 0x0020</span><span class="sxs-lookup"><span data-stu-id="35f05-108">**ENABLE_INSERT_MODE** 0x0020</span></span> | <span data-ttu-id="35f05-109">啟用時，在主控台視窗中輸入的文字將會插入目前的游標位置，並且不會覆寫該位置後面的所有文字。</span><span class="sxs-lookup"><span data-stu-id="35f05-109">When enabled, text entered in a console window will be inserted at the current cursor location and all text following that location will not be overwritten.</span></span> <span data-ttu-id="35f05-110">停用時，將會覆寫下列所有文字。</span><span class="sxs-lookup"><span data-stu-id="35f05-110">When disabled, all following text will be overwritten.</span></span> |
| <span data-ttu-id="35f05-111">**ENABLE_LINE_INPUT** 0x0002</span><span class="sxs-lookup"><span data-stu-id="35f05-111">**ENABLE_LINE_INPUT** 0x0002</span></span> | <span data-ttu-id="35f05-112">只有在讀取換行字元時，才會傳回 **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** 或 **[ReadConsole](../readconsole.md)** 函數。</span><span class="sxs-lookup"><span data-stu-id="35f05-112">The **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** or **[ReadConsole](../readconsole.md)** function returns only when a carriage return character is read.</span></span> <span data-ttu-id="35f05-113">如果停用此模式，則函式會在有一或多個字元可用時傳回。</span><span class="sxs-lookup"><span data-stu-id="35f05-113">If this mode is disabled, the functions return when one or more characters are available.</span></span> |
| <span data-ttu-id="35f05-114">**ENABLE_MOUSE_INPUT** 0x0010</span><span class="sxs-lookup"><span data-stu-id="35f05-114">**ENABLE_MOUSE_INPUT** 0x0010</span></span> | <span data-ttu-id="35f05-115">如果滑鼠指標位於主控台視窗的框線內，且視窗具有鍵盤焦點，則滑鼠移動和按下按鈕所產生的滑鼠事件會放置在輸入緩衝區中。</span><span class="sxs-lookup"><span data-stu-id="35f05-115">If the mouse pointer is within the borders of the console window and the window has the keyboard focus, mouse events generated by mouse movement and button presses are placed in the input buffer.</span></span> <span data-ttu-id="35f05-116">這些事件會由 **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** 或 **[ReadConsole](../readconsole.md)** 捨棄，即使啟用此模式也是如此。</span><span class="sxs-lookup"><span data-stu-id="35f05-116">These events are discarded by **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** or **[ReadConsole](../readconsole.md)** , even when this mode is enabled.</span></span> |
| <span data-ttu-id="35f05-117">**ENABLE_PROCESSED_INPUT** 0x0001</span><span class="sxs-lookup"><span data-stu-id="35f05-117">**ENABLE_PROCESSED_INPUT** 0x0001</span></span> | <span data-ttu-id="35f05-118">CTRL + C 是由系統處理，而不是放在輸入緩衝區中。</span><span class="sxs-lookup"><span data-stu-id="35f05-118">CTRL+C is processed by the system and is not placed in the input buffer.</span></span> <span data-ttu-id="35f05-119">如果 **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** 或 **[ReadConsole](../readconsole.md)** 正在讀取輸入緩衝區，則系統會處理其他控制索引鍵，而不會在 **ReadFile** 或 **ReadConsole** 緩衝區中傳回。</span><span class="sxs-lookup"><span data-stu-id="35f05-119">If the input buffer is being read by **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** or **[ReadConsole](../readconsole.md)** , other control keys are processed by the system and are not returned in the **ReadFile** or **ReadConsole** buffer.</span></span> <span data-ttu-id="35f05-120">如果也啟用了 **ENABLE_LINE_INPUT** 模式，則倒退鍵、換行字元和換行字元會由系統處理。</span><span class="sxs-lookup"><span data-stu-id="35f05-120">If the **ENABLE_LINE_INPUT** mode is also enabled, backspace, carriage return, and line feed characters are handled by the system.</span></span> |
| <span data-ttu-id="35f05-121">**ENABLE_QUICK_EDIT_MODE** 0x0040</span><span class="sxs-lookup"><span data-stu-id="35f05-121">**ENABLE_QUICK_EDIT_MODE** 0x0040</span></span> | <span data-ttu-id="35f05-122">這個旗標可讓使用者使用滑鼠來選取和編輯文字。</span><span class="sxs-lookup"><span data-stu-id="35f05-122">This flag enables the user to use the mouse to select and edit text.</span></span><br /><br /><span data-ttu-id="35f05-123">若要啟用此模式，請使用 `ENABLE_QUICK_EDIT_MODE | ENABLE_EXTENDED_FLAGS` 。</span><span class="sxs-lookup"><span data-stu-id="35f05-123">To enable this mode, use `ENABLE_QUICK_EDIT_MODE | ENABLE_EXTENDED_FLAGS`.</span></span> <span data-ttu-id="35f05-124">若要停用此模式，請使用不含此旗標的 **ENABLE_EXTENDED_FLAGS** 。</span><span class="sxs-lookup"><span data-stu-id="35f05-124">To disable this mode, use **ENABLE_EXTENDED_FLAGS** without this flag.</span></span> |
| <span data-ttu-id="35f05-125">**ENABLE_WINDOW_INPUT** 0x0008</span><span class="sxs-lookup"><span data-stu-id="35f05-125">**ENABLE_WINDOW_INPUT** 0x0008</span></span> | <span data-ttu-id="35f05-126">變更控制台螢幕緩衝區大小的使用者互動會在主控台的輸入緩衝區中報告。</span><span class="sxs-lookup"><span data-stu-id="35f05-126">User interactions that change the size of the console screen buffer are reported in the console's input buffer.</span></span> <span data-ttu-id="35f05-127">您可以使用 **[ReadConsoleInput](../readconsoleinput.md)** 函式，而不是使用 **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** 或 **[ReadConsole](../readconsole.md)** 的應用程式，從輸入緩衝區讀取這些事件的相關資訊。</span><span class="sxs-lookup"><span data-stu-id="35f05-127">Information about these events can be read from the input buffer by applications using the **[ReadConsoleInput](../readconsoleinput.md)** function, but not by those using **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** or **[ReadConsole](../readconsole.md)** .</span></span> |
| <span data-ttu-id="35f05-128">**ENABLE_VIRTUAL_TERMINAL_INPUT** 0x0200</span><span class="sxs-lookup"><span data-stu-id="35f05-128">**ENABLE_VIRTUAL_TERMINAL_INPUT** 0x0200</span></span> | <span data-ttu-id="35f05-129">設定此旗標會指示虛擬終端處理引擎將主控台視窗收到的使用者輸入轉換為 **[主控台虛擬終端機序列](../console-virtual-terminal-sequences.md)** ，可透過 **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** 或 **[WriteConsole](../writeconsole.md)** 函式由支援的應用程式抓取。</span><span class="sxs-lookup"><span data-stu-id="35f05-129">Setting this flag directs the Virtual Terminal processing engine to convert user input received by the console window into **[Console Virtual Terminal Sequences](../console-virtual-terminal-sequences.md)** that can be retrieved by a supporting application through **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** or **[WriteConsole](../writeconsole.md)** functions.</span></span><br /><br /><span data-ttu-id="35f05-130">此旗標的一般用法是與輸出控制碼上的 ENABLE_VIRTUAL_TERMINAL_PROCESSING 搭配使用，以連接至透過虛擬終端機序列獨佔通訊的應用程式。</span><span class="sxs-lookup"><span data-stu-id="35f05-130">The typical usage of this flag is intended in conjunction with ENABLE_VIRTUAL_TERMINAL_PROCESSING on the output handle to connect to an application that communicates exclusively via virtual terminal sequences.</span></span> |

<span data-ttu-id="35f05-131">如果 *hConsoleHandle* 參數是螢幕緩衝區控制碼，此模式可以是下列其中一個或多個值。</span><span class="sxs-lookup"><span data-stu-id="35f05-131">If the *hConsoleHandle* parameter is a screen buffer handle, the mode can be one or more of the following values.</span></span> <span data-ttu-id="35f05-132">建立螢幕緩衝區時，預設會啟用這兩種輸出模式。</span><span class="sxs-lookup"><span data-stu-id="35f05-132">When a screen buffer is created, both output modes are enabled by default.</span></span>

| <span data-ttu-id="35f05-133">值</span><span class="sxs-lookup"><span data-stu-id="35f05-133">Value</span></span> | <span data-ttu-id="35f05-134">意義</span><span class="sxs-lookup"><span data-stu-id="35f05-134">Meaning</span></span> |
|-|-|
| <span data-ttu-id="35f05-135">**ENABLE_PROCESSED_OUTPUT** 0x0001</span><span class="sxs-lookup"><span data-stu-id="35f05-135">**ENABLE_PROCESSED_OUTPUT** 0x0001</span></span> | <span data-ttu-id="35f05-136">**[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** 或 **[WriteConsole](../writeconsole.md)** 函式或 **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** 或 **[ReadConsole](../readconsole.md)** 函式所寫入的字元會針對 ASCII 控制序列進行剖析，並執行正確的動作。</span><span class="sxs-lookup"><span data-stu-id="35f05-136">Characters written by the **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** or **[WriteConsole](../writeconsole.md)** function or echoed by the **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** or **[ReadConsole](../readconsole.md)** function are parsed for ASCII control sequences, and the correct action is performed.</span></span> <span data-ttu-id="35f05-137">會處理倒退鍵、定位字元、鐘、換行字元和換行字元。</span><span class="sxs-lookup"><span data-stu-id="35f05-137">Backspace, tab, bell, carriage return, and line feed characters are processed.</span></span> |
| <span data-ttu-id="35f05-138">**ENABLE_WRAP_AT_EOL_OUTPUT** 0x0002</span><span class="sxs-lookup"><span data-stu-id="35f05-138">**ENABLE_WRAP_AT_EOL_OUTPUT** 0x0002</span></span> | <span data-ttu-id="35f05-139">使用 **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** 或 **[WriteConsole](../writeconsole.md)** 或使用 **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** 或 **[ReadConsole](../readconsole.md)** 來進行寫入時，資料指標會在到達目前資料列的結尾時移至下一個資料列的開頭。</span><span class="sxs-lookup"><span data-stu-id="35f05-139">When writing with **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** or **[WriteConsole](../writeconsole.md)** or echoing with **[ReadFile](https://msdn.microsoft.com/library/windows/desktop/aa365467)** or **[ReadConsole](../readconsole.md)** , the cursor moves to the beginning of the next row when it reaches the end of the current row.</span></span> <span data-ttu-id="35f05-140">這會使主控台視窗中顯示的資料列在游標前進到視窗中的最後一個資料列之後自動向上滾動。</span><span class="sxs-lookup"><span data-stu-id="35f05-140">This causes the rows displayed in the console window to scroll up automatically when the cursor advances beyond the last row in the window.</span></span> <span data-ttu-id="35f05-141">它也會使主控台畫面緩衝區的內容 (。當游標前進到主控台螢幕緩衝區中的最後一個資料列之後，/discarding 主控台畫面緩衝區的頂端資料列) 。</span><span class="sxs-lookup"><span data-stu-id="35f05-141">It also causes the contents of the console screen buffer to scroll up (../discarding the top row of the console screen buffer) when the cursor advances beyond the last row in the console screen buffer.</span></span> <span data-ttu-id="35f05-142">如果停用此模式，則會以任何後續字元覆寫資料列中的最後一個字元。</span><span class="sxs-lookup"><span data-stu-id="35f05-142">If this mode is disabled, the last character in the row is overwritten with any subsequent characters.</span></span> |
| <span data-ttu-id="35f05-143">**ENABLE_VIRTUAL_TERMINAL_PROCESSING** 0x0004</span><span class="sxs-lookup"><span data-stu-id="35f05-143">**ENABLE_VIRTUAL_TERMINAL_PROCESSING** 0x0004</span></span> | <span data-ttu-id="35f05-144">使用 **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** 或 **[WriteConsole](../writeconsole.md)** 進行寫入時，會剖析字元，以控制資料指標移動、色彩/字型模式，以及可透過現有的主控台 api 執行的類似控制字元序列。</span><span class="sxs-lookup"><span data-stu-id="35f05-144">When writing with **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** or **[WriteConsole](../writeconsole.md)** , characters are parsed for VT100 and similar control character sequences that control cursor movement, color/font mode, and other operations that can also be performed via the existing Console APIs.</span></span> <span data-ttu-id="35f05-145">如需詳細資訊，請參閱 **[主控台虛擬終端機序列](../console-virtual-terminal-sequences.md)** 。</span><span class="sxs-lookup"><span data-stu-id="35f05-145">For more information, see **[Console Virtual Terminal Sequences](../console-virtual-terminal-sequences.md)** .</span></span> |
| <span data-ttu-id="35f05-146">**DISABLE_NEWLINE_AUTO_RETURN** 0x0008</span><span class="sxs-lookup"><span data-stu-id="35f05-146">**DISABLE_NEWLINE_AUTO_RETURN** 0x0008</span></span> | <span data-ttu-id="35f05-147">使用 **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** 或 **[WriteConsole](../writeconsole.md)** 進行寫入時，會將額外的狀態加入至行尾換行，以延遲游標移動和緩衝區滾動作業。</span><span class="sxs-lookup"><span data-stu-id="35f05-147">When writing with **[WriteFile](https://msdn.microsoft.com/library/windows/desktop/aa365747)** or **[WriteConsole](../writeconsole.md)** , this adds an additional state to end-of-line wrapping that can delay the cursor move and buffer scroll operations.</span></span><br /><br /><span data-ttu-id="35f05-148">一般來說，當 **ENABLE_WRAP_AT_EOL_OUTPUT** 設定且文字到達行尾時，游標會立即移到下一行，而且緩衝區的內容會以一行滾動。</span><span class="sxs-lookup"><span data-stu-id="35f05-148">Normally when **ENABLE_WRAP_AT_EOL_OUTPUT** is set and text reaches the end of the line, the cursor will immediately move to the next line and the contents of the buffer will scroll up by one line.</span></span> <span data-ttu-id="35f05-149">相較于設定此旗標，捲軸操作和游標移動會延遲到下一個字元抵達為止。</span><span class="sxs-lookup"><span data-stu-id="35f05-149">In contrast with this flag set, the scroll operation and cursor move is delayed until the next character arrives.</span></span> <span data-ttu-id="35f05-150">書寫的字元將列印在行的最後一個位置，而游標會維持在此字元的上方，就像 **ENABLE_WRAP_AT_EOL_OUTPUT** 是 off 一樣，但是下一個可列印的字元將會列印成 **ENABLE_WRAP_AT_EOL_OUTPUT** 開啟。</span><span class="sxs-lookup"><span data-stu-id="35f05-150">The written character will be printed in the final position on the line and the cursor will remain above this character as if **ENABLE_WRAP_AT_EOL_OUTPUT** was off, but the next printable character will be printed as if **ENABLE_WRAP_AT_EOL_OUTPUT** is on.</span></span> <span data-ttu-id="35f05-151">不會進行覆寫。</span><span class="sxs-lookup"><span data-stu-id="35f05-151">No overwrite will occur.</span></span> <span data-ttu-id="35f05-152">明確地說，游標會迅速往下移動到下一行，視需要執行捲軸、列印字元，然後將游標前移一個位置。</span><span class="sxs-lookup"><span data-stu-id="35f05-152">Specifically, the cursor quickly advances down to the following line, a scroll is performed if necessary, the character is printed, and the cursor advances one more position.</span></span><br /><br /><span data-ttu-id="35f05-153">此旗標的一般用法是與設定 **ENABLE_VIRTUAL_TERMINAL_PROCESSING** 搭配使用，以更好的方式模擬終端機模擬器，也就是在螢幕上寫入最後一個字元 (。/in 右下角) 不觸發立即滾動的行為，是所要的行為。</span><span class="sxs-lookup"><span data-stu-id="35f05-153">The typical usage of this flag is intended in conjunction with setting **ENABLE_VIRTUAL_TERMINAL_PROCESSING** to better emulate a terminal emulator where writing the final character on the screen (../in the bottom right corner) without triggering an immediate scroll is the desired behavior.</span></span> |
| <span data-ttu-id="35f05-154">**ENABLE_LVB_GRID_WORLDWIDE** 0x0010</span><span class="sxs-lookup"><span data-stu-id="35f05-154">**ENABLE_LVB_GRID_WORLDWIDE** 0x0010</span></span> | <span data-ttu-id="35f05-155">撰寫字元屬性（包括 **[WriteConsoleOutput](../writeconsoleoutput.md)** 和 **[WriteConsoleOutputAttribute](../writeconsoleoutputattribute.md)** ）的 api，可讓您使用 **[字元屬性](../console-screen-buffers.md#character-attributes)** 的旗標來調整文字的前景和背景色彩。</span><span class="sxs-lookup"><span data-stu-id="35f05-155">The APIs for writing character attributes including **[WriteConsoleOutput](../writeconsoleoutput.md)** and **[WriteConsoleOutputAttribute](../writeconsoleoutputattribute.md)** allow the usage of flags from **[character attributes](../console-screen-buffers.md#character-attributes)** to adjust the color of the foreground and background of text.</span></span> <span data-ttu-id="35f05-156">此外，使用 COMMON_LVB 前置詞指定了 DBCS 旗標的範圍。</span><span class="sxs-lookup"><span data-stu-id="35f05-156">Additionally, a range of DBCS flags was specified with the COMMON_LVB prefix.</span></span> <span data-ttu-id="35f05-157">在過去，這些旗標只會在中文、日文和韓文語言的 DBCS 字碼頁中正常進行。</span><span class="sxs-lookup"><span data-stu-id="35f05-157">Historically, these flags only functioned in DBCS code pages for Chinese, Japanese, and Korean languages.</span></span><br /><br /><span data-ttu-id="35f05-158">除了開頭的位元組和尾端的位元組旗標以外，其餘的旗標描述線條繪製和反向影片 (）。/swap 前景和背景色彩) 可能有助於其他語言強調輸出的部分。</span><span class="sxs-lookup"><span data-stu-id="35f05-158">With exception of the leading byte and trailing byte flags, the remaining flags describing line drawing and reverse video (../swap foreground and background colors) can be useful for other languages to emphasize portions of output.</span></span><br /><br /><span data-ttu-id="35f05-159">設定此主控台模式旗標，可讓您在每個語言的每個字碼頁中使用這些屬性。</span><span class="sxs-lookup"><span data-stu-id="35f05-159">Setting this console mode flag will allow these attributes to be used in every code page on every language.</span></span><br /><br /><span data-ttu-id="35f05-160">預設為關閉，以維持與過去利用主控台忽略這些旗標的已知應用程式之間的相容性，這些旗標會在非 CJK 電腦上略過這些旗標，以基於自己的目的或意外的方式儲存這些欄位中的位。</span><span class="sxs-lookup"><span data-stu-id="35f05-160">It is off by default to maintain compatibility with known applications that have historically taken advantage of the console ignoring these flags on non-CJK machines to store bits in these fields for their own purposes or by accident.</span></span><br /><br /><span data-ttu-id="35f05-161">請注意，使用 ENABLE_VIRTUAL_TERMINAL_PROCESSING 模式可能會導致設定 LVB 格線和反向影片旗標，但如果連結的應用程式透過 **[主控台虛擬終端機序列](../console-virtual-terminal-sequences.md)** 要求底線或反向影片，則此旗標仍會關閉。</span><span class="sxs-lookup"><span data-stu-id="35f05-161">Note that using the ENABLE_VIRTUAL_TERMINAL_PROCESSING mode can result in LVB grid and reverse video flags being set while this flag is still off if the attached application requests underlining or inverse video via **[Console Virtual Terminal Sequences](../console-virtual-terminal-sequences.md)** .</span></span> |
