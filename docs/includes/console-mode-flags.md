---
ms.openlocfilehash: ce7874feb5abe5e51dd86ac7060d93cb8d622bf0
ms.sourcegitcommit: 281eb1469f77ae4fb4c67806898e14eac440522a
ms.translationtype: MT
ms.contentlocale: zh-TW
ms.lasthandoff: 02/14/2021
ms.locfileid: "100357273"
---
<span data-ttu-id="a4982-101">如果 *hConsoleHandle* 參數是輸入控點，則模式可以是下列其中一或多個值。</span><span class="sxs-lookup"><span data-stu-id="a4982-101">If the *hConsoleHandle* parameter is an input handle, the mode can be one or more of the following values.</span></span> <span data-ttu-id="a4982-102">建立主控台時，預設會啟用除了 **ENABLE\_WINDOW\_INPUT** 以外的所有輸入模式。</span><span class="sxs-lookup"><span data-stu-id="a4982-102">When a console is created, all input modes except **ENABLE\_WINDOW\_INPUT** are enabled by default.</span></span>

| <span data-ttu-id="a4982-103">值</span><span class="sxs-lookup"><span data-stu-id="a4982-103">Value</span></span> | <span data-ttu-id="a4982-104">意義</span><span class="sxs-lookup"><span data-stu-id="a4982-104">Meaning</span></span> |
|-|-|
| <span data-ttu-id="a4982-105">**ENABLE_ECHO_INPUT** 0x0004</span><span class="sxs-lookup"><span data-stu-id="a4982-105">**ENABLE_ECHO_INPUT** 0x0004</span></span> | <span data-ttu-id="a4982-106">**[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** 或 **[ReadConsole](../readconsole.md)** 函式所讀取的字元會在讀取時寫入至使用中螢幕緩衝區。</span><span class="sxs-lookup"><span data-stu-id="a4982-106">Characters read by the **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** or **[ReadConsole](../readconsole.md)** function are written to the active screen buffer as they are read.</span></span> <span data-ttu-id="a4982-107">只有在同時啟用 **ENABLE_LINE_INPUT** 模式時，才可使用此模式。</span><span class="sxs-lookup"><span data-stu-id="a4982-107">This mode can be used only if the **ENABLE_LINE_INPUT** mode is also enabled.</span></span> |
| <span data-ttu-id="a4982-108">**ENABLE_INSERT_MODE** 0x0020</span><span class="sxs-lookup"><span data-stu-id="a4982-108">**ENABLE_INSERT_MODE** 0x0020</span></span> | <span data-ttu-id="a4982-109">若已啟用，在主控台視窗中輸入的文字將會插入於目前的游標位置，而該位置後面的所有文字不會遭到覆寫。</span><span class="sxs-lookup"><span data-stu-id="a4982-109">When enabled, text entered in a console window will be inserted at the current cursor location and all text following that location will not be overwritten.</span></span> <span data-ttu-id="a4982-110">若已停用，將會覆寫下列所有文字。</span><span class="sxs-lookup"><span data-stu-id="a4982-110">When disabled, all following text will be overwritten.</span></span> |
| <span data-ttu-id="a4982-111">**ENABLE_LINE_INPUT** 0x0002</span><span class="sxs-lookup"><span data-stu-id="a4982-111">**ENABLE_LINE_INPUT** 0x0002</span></span> | <span data-ttu-id="a4982-112">只有在讀取歸位字元時， **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** 或 **[ReadConsole](../readconsole.md)** 函式才會傳回。</span><span class="sxs-lookup"><span data-stu-id="a4982-112">The **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** or **[ReadConsole](../readconsole.md)** function returns only when a carriage return character is read.</span></span> <span data-ttu-id="a4982-113">若已停用此模式，函式會在有一或多個字元可用時傳回。</span><span class="sxs-lookup"><span data-stu-id="a4982-113">If this mode is disabled, the functions return when one or more characters are available.</span></span> |
| <span data-ttu-id="a4982-114">**ENABLE_MOUSE_INPUT** 0x0010</span><span class="sxs-lookup"><span data-stu-id="a4982-114">**ENABLE_MOUSE_INPUT** 0x0010</span></span> | <span data-ttu-id="a4982-115">如果滑鼠指標位於主控台視窗的邊界內，而此視窗具有鍵盤焦點，則滑鼠移動和按下按鈕所產生的滑鼠事件會放在輸入緩衝區中。</span><span class="sxs-lookup"><span data-stu-id="a4982-115">If the mouse pointer is within the borders of the console window and the window has the keyboard focus, mouse events generated by mouse movement and button presses are placed in the input buffer.</span></span> <span data-ttu-id="a4982-116">**[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** 或 **[ReadConsole](../readconsole.md)** 會捨棄這些事件，即使已啟用此模式也一樣。</span><span class="sxs-lookup"><span data-stu-id="a4982-116">These events are discarded by **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** or **[ReadConsole](../readconsole.md)**, even when this mode is enabled.</span></span> |
| <span data-ttu-id="a4982-117">**ENABLE_PROCESSED_INPUT** 0x0001</span><span class="sxs-lookup"><span data-stu-id="a4982-117">**ENABLE_PROCESSED_INPUT** 0x0001</span></span> | <span data-ttu-id="a4982-118">CTRL+C 是由系統處理，而且不會放在輸入緩衝區中。</span><span class="sxs-lookup"><span data-stu-id="a4982-118">CTRL+C is processed by the system and is not placed in the input buffer.</span></span> <span data-ttu-id="a4982-119">如果 **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** 或 **[ReadConsole](../readconsole.md)** 正在讀取輸入緩衝區，則其他 Ctrl 鍵會由系統處理，而不會在 **ReadFile** 或 **ReadConsole** 緩衝區中傳回。</span><span class="sxs-lookup"><span data-stu-id="a4982-119">If the input buffer is being read by **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** or **[ReadConsole](../readconsole.md)**, other control keys are processed by the system and are not returned in the **ReadFile** or **ReadConsole** buffer.</span></span> <span data-ttu-id="a4982-120">如果同時啟用了 **ENABLE_LINE_INPUT** 模式，則系統會處理退格鍵、歸位字元和換行字元。</span><span class="sxs-lookup"><span data-stu-id="a4982-120">If the **ENABLE_LINE_INPUT** mode is also enabled, backspace, carriage return, and line feed characters are handled by the system.</span></span> |
| <span data-ttu-id="a4982-121">**ENABLE_QUICK_EDIT_MODE** 0x0040</span><span class="sxs-lookup"><span data-stu-id="a4982-121">**ENABLE_QUICK_EDIT_MODE** 0x0040</span></span> | <span data-ttu-id="a4982-122">此旗標可讓使用者使用滑鼠來選取和編輯文字。</span><span class="sxs-lookup"><span data-stu-id="a4982-122">This flag enables the user to use the mouse to select and edit text.</span></span><br /><br /><span data-ttu-id="a4982-123">若要啟用此模式，請使用 `ENABLE_QUICK_EDIT_MODE | ENABLE_EXTENDED_FLAGS`。</span><span class="sxs-lookup"><span data-stu-id="a4982-123">To enable this mode, use `ENABLE_QUICK_EDIT_MODE | ENABLE_EXTENDED_FLAGS`.</span></span> <span data-ttu-id="a4982-124">若要停用此模式，請使用不含此旗標的 **ENABLE_EXTENDED_FLAGS**。</span><span class="sxs-lookup"><span data-stu-id="a4982-124">To disable this mode, use **ENABLE_EXTENDED_FLAGS** without this flag.</span></span> |
| <span data-ttu-id="a4982-125">**ENABLE_WINDOW_INPUT** 0x0008</span><span class="sxs-lookup"><span data-stu-id="a4982-125">**ENABLE_WINDOW_INPUT** 0x0008</span></span> | <span data-ttu-id="a4982-126">變更控制台螢幕緩衝區大小的使用者互動會在主控台的輸入緩衝區中回報。</span><span class="sxs-lookup"><span data-stu-id="a4982-126">User interactions that change the size of the console screen buffer are reported in the console's input buffer.</span></span> <span data-ttu-id="a4982-127">應用程式可以使用 **[ReadConsoleInput](../readconsoleinput.md)** 函式從輸入緩衝區讀取這些事件的相關資訊，但不能使用 **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** 或 **[ReadConsole](../readconsole.md)** 來讀取。</span><span class="sxs-lookup"><span data-stu-id="a4982-127">Information about these events can be read from the input buffer by applications using the **[ReadConsoleInput](../readconsoleinput.md)** function, but not by those using **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** or **[ReadConsole](../readconsole.md)**.</span></span> |
| <span data-ttu-id="a4982-128">**ENABLE_VIRTUAL_TERMINAL_INPUT** 0x0200</span><span class="sxs-lookup"><span data-stu-id="a4982-128">**ENABLE_VIRTUAL_TERMINAL_INPUT** 0x0200</span></span> | <span data-ttu-id="a4982-129">設定此旗標會指示虛擬終端機處理引擎將主控台視窗收到的使用者輸入轉換成 **[主控台虛擬終端機序列](../console-virtual-terminal-sequences.md)** ，其可由支援應用程式透過 **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** 或 **[WriteConsole](../writeconsole.md)** 函式來擷取。</span><span class="sxs-lookup"><span data-stu-id="a4982-129">Setting this flag directs the Virtual Terminal processing engine to convert user input received by the console window into **[Console Virtual Terminal Sequences](../console-virtual-terminal-sequences.md)** that can be retrieved by a supporting application through **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** or **[WriteConsole](../writeconsole.md)** functions.</span></span><br /><br /><span data-ttu-id="a4982-130">此旗標的典型用法是要搭配輸出控點上的 ENABLE_VIRTUAL_TERMINAL_PROCESSING 使用，以連線到透過虛擬終端機序列獨佔通訊的應用程式。</span><span class="sxs-lookup"><span data-stu-id="a4982-130">The typical usage of this flag is intended in conjunction with ENABLE_VIRTUAL_TERMINAL_PROCESSING on the output handle to connect to an application that communicates exclusively via virtual terminal sequences.</span></span> |

<span data-ttu-id="a4982-131">如果 *hConsoleHandle* 參數是螢幕緩衝區控點，則模式可以是下列其中一或多個值。</span><span class="sxs-lookup"><span data-stu-id="a4982-131">If the *hConsoleHandle* parameter is a screen buffer handle, the mode can be one or more of the following values.</span></span> <span data-ttu-id="a4982-132">建立螢幕緩衝區時，預設會啟用這兩種輸出模式。</span><span class="sxs-lookup"><span data-stu-id="a4982-132">When a screen buffer is created, both output modes are enabled by default.</span></span>

| <span data-ttu-id="a4982-133">值</span><span class="sxs-lookup"><span data-stu-id="a4982-133">Value</span></span> | <span data-ttu-id="a4982-134">意義</span><span class="sxs-lookup"><span data-stu-id="a4982-134">Meaning</span></span> |
|-|-|
| <span data-ttu-id="a4982-135">**ENABLE_PROCESSED_OUTPUT** 0x0001</span><span class="sxs-lookup"><span data-stu-id="a4982-135">**ENABLE_PROCESSED_OUTPUT** 0x0001</span></span> | <span data-ttu-id="a4982-136">由 **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** 或 **[WriteConsole](../writeconsole.md)** 函式寫入的字元，或由 **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** 或 **[ReadConsole](../readconsole.md)** 函式所回應的字元會針對 ASCII 控制序列進行剖析，並執行正確的動作。</span><span class="sxs-lookup"><span data-stu-id="a4982-136">Characters written by the **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** or **[WriteConsole](../writeconsole.md)** function or echoed by the **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** or **[ReadConsole](../readconsole.md)** function are parsed for ASCII control sequences, and the correct action is performed.</span></span> <span data-ttu-id="a4982-137">系統會處理退格鍵、定位字元、鈴字元、歸位字元和換行字元。</span><span class="sxs-lookup"><span data-stu-id="a4982-137">Backspace, tab, bell, carriage return, and line feed characters are processed.</span></span> |
| <span data-ttu-id="a4982-138">**ENABLE_WRAP_AT_EOL_OUTPUT** 0x0002</span><span class="sxs-lookup"><span data-stu-id="a4982-138">**ENABLE_WRAP_AT_EOL_OUTPUT** 0x0002</span></span> | <span data-ttu-id="a4982-139">使用 **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** 或 **[WriteConsole](../writeconsole.md)** 寫入或使用 **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** 或 **[ReadConsole](../readconsole.md)** 回應時，游標會在到達目前資料列的結尾時移至下一個資料列的開頭。</span><span class="sxs-lookup"><span data-stu-id="a4982-139">When writing with **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** or **[WriteConsole](../writeconsole.md)** or echoing with **[ReadFile](/windows/win32/api/fileapi/nf-fileapi-readfile)** or **[ReadConsole](../readconsole.md)**, the cursor moves to the beginning of the next row when it reaches the end of the current row.</span></span> <span data-ttu-id="a4982-140">這會導致主控台視窗中顯示的資料列在游標前進超過視窗中最後一個資料列時，自動向上捲動。</span><span class="sxs-lookup"><span data-stu-id="a4982-140">This causes the rows displayed in the console window to scroll up automatically when the cursor advances beyond the last row in the window.</span></span> <span data-ttu-id="a4982-141">也會在游標前進超過主控台螢幕緩衝區中最後一個資料列時，導致主控台螢幕緩衝區的內容向上捲動 (捨棄主控台螢幕緩衝區的頂端資料列)。</span><span class="sxs-lookup"><span data-stu-id="a4982-141">It also causes the contents of the console screen buffer to scroll up (../discarding the top row of the console screen buffer) when the cursor advances beyond the last row in the console screen buffer.</span></span> <span data-ttu-id="a4982-142">如果停用此模式，則會以任何後續字元覆寫資料列中的最後一個字元。</span><span class="sxs-lookup"><span data-stu-id="a4982-142">If this mode is disabled, the last character in the row is overwritten with any subsequent characters.</span></span> |
| <span data-ttu-id="a4982-143">**ENABLE_VIRTUAL_TERMINAL_PROCESSING** 0x0004</span><span class="sxs-lookup"><span data-stu-id="a4982-143">**ENABLE_VIRTUAL_TERMINAL_PROCESSING** 0x0004</span></span> | <span data-ttu-id="a4982-144">使用 **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** 或 **[WriteConsole](../writeconsole.md)** 寫入時，系統會針對 VT100 和類似的控制字元序列剖析字元，而這些序列可控制游標移動、色彩/字型模式，以及其他也可透過現有主控台 API 執行的作業。</span><span class="sxs-lookup"><span data-stu-id="a4982-144">When writing with **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** or **[WriteConsole](../writeconsole.md)**, characters are parsed for VT100 and similar control character sequences that control cursor movement, color/font mode, and other operations that can also be performed via the existing Console APIs.</span></span> <span data-ttu-id="a4982-145">如需詳細資訊，請參閱 **[主控台虛擬終端機序列](../console-virtual-terminal-sequences.md)** 。</span><span class="sxs-lookup"><span data-stu-id="a4982-145">For more information, see **[Console Virtual Terminal Sequences](../console-virtual-terminal-sequences.md)**.</span></span> |
| <span data-ttu-id="a4982-146">**DISABLE_NEWLINE_AUTO_RETURN** 0x0008</span><span class="sxs-lookup"><span data-stu-id="a4982-146">**DISABLE_NEWLINE_AUTO_RETURN** 0x0008</span></span> | <span data-ttu-id="a4982-147">使用 **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** 或 **[WriteConsole](../writeconsole.md)** 寫入時，這會將其他狀態新增至行尾換行，以延遲游標移動和緩衝區捲動作業。</span><span class="sxs-lookup"><span data-stu-id="a4982-147">When writing with **[WriteFile](/windows/win32/api/fileapi/nf-fileapi-writefile)** or **[WriteConsole](../writeconsole.md)**, this adds an additional state to end-of-line wrapping that can delay the cursor move and buffer scroll operations.</span></span><br /><br /><span data-ttu-id="a4982-148">通常已設定 **ENABLE_WRAP_AT_EOL_OUTPUT** 且文字到達行尾時，游標會立即移至下一行，而緩衝區的內容會向上捲動一行。</span><span class="sxs-lookup"><span data-stu-id="a4982-148">Normally when **ENABLE_WRAP_AT_EOL_OUTPUT** is set and text reaches the end of the line, the cursor will immediately move to the next line and the contents of the buffer will scroll up by one line.</span></span> <span data-ttu-id="a4982-149">相較於設定此旗標，捲動作業和游標移動會延遲到下一個字元抵達為止。</span><span class="sxs-lookup"><span data-stu-id="a4982-149">In contrast with this flag set, the scroll operation and cursor move is delayed until the next character arrives.</span></span> <span data-ttu-id="a4982-150">寫入的字元會列印在行的最後一個位置，而游標會繼續留在此字元上方 (猶如 **ENABLE_WRAP_AT_EOL_OUTPUT** 已關閉)，但下一個可列印的字元會列印 (猶如 **ENABLE_WRAP_AT_EOL_OUTPUT** 已開啟)。</span><span class="sxs-lookup"><span data-stu-id="a4982-150">The written character will be printed in the final position on the line and the cursor will remain above this character as if **ENABLE_WRAP_AT_EOL_OUTPUT** was off, but the next printable character will be printed as if **ENABLE_WRAP_AT_EOL_OUTPUT** is on.</span></span> <span data-ttu-id="a4982-151">不會發生覆寫。</span><span class="sxs-lookup"><span data-stu-id="a4982-151">No overwrite will occur.</span></span> <span data-ttu-id="a4982-152">具體而言，游標會快速前進到下一行，必要時會執行捲動，列印字元，且游標會前進一個位置。</span><span class="sxs-lookup"><span data-stu-id="a4982-152">Specifically, the cursor quickly advances down to the following line, a scroll is performed if necessary, the character is printed, and the cursor advances one more position.</span></span><br /><br /><span data-ttu-id="a4982-153">此旗標的典型用法是要搭配 **ENABLE_VIRTUAL_TERMINAL_PROCESSING** 設定使用，更完善地模擬終端機模擬器，而在其中於螢幕上寫入最後一個字元 (在右下角) 而不觸發立即捲動則是想要的行為。</span><span class="sxs-lookup"><span data-stu-id="a4982-153">The typical usage of this flag is intended in conjunction with setting **ENABLE_VIRTUAL_TERMINAL_PROCESSING** to better emulate a terminal emulator where writing the final character on the screen (../in the bottom right corner) without triggering an immediate scroll is the desired behavior.</span></span> |
| <span data-ttu-id="a4982-154">**ENABLE_LVB_GRID_WORLDWIDE** 0x0010</span><span class="sxs-lookup"><span data-stu-id="a4982-154">**ENABLE_LVB_GRID_WORLDWIDE** 0x0010</span></span> | <span data-ttu-id="a4982-155">可供寫入字元屬性 (包括 **[WriteConsoleOutput](../writeconsoleoutput.md)** 和 **[WriteConsoleOutputAttribute](../writeconsoleoutputattribute.md)** ) 的 API 允許從 **[字元屬性](../console-screen-buffers.md#character-attributes)** 使用旗標，以調整文字的前景和背景色彩。</span><span class="sxs-lookup"><span data-stu-id="a4982-155">The APIs for writing character attributes including **[WriteConsoleOutput](../writeconsoleoutput.md)** and **[WriteConsoleOutputAttribute](../writeconsoleoutputattribute.md)** allow the usage of flags from **[character attributes](../console-screen-buffers.md#character-attributes)** to adjust the color of the foreground and background of text.</span></span> <span data-ttu-id="a4982-156">此外，已使用 COMMON_LVB 前置詞指定了 DBCS 旗標的範圍。</span><span class="sxs-lookup"><span data-stu-id="a4982-156">Additionally, a range of DBCS flags was specified with the COMMON_LVB prefix.</span></span> <span data-ttu-id="a4982-157">過去，這些旗標只會在中文、日文和韓文的 DBCS 字碼頁中運作。</span><span class="sxs-lookup"><span data-stu-id="a4982-157">Historically, these flags only functioned in DBCS code pages for Chinese, Japanese, and Korean languages.</span></span><br /><br /><span data-ttu-id="a4982-158">除了前置位元組和尾端位元組旗標以外，其餘描述線條繪製和反轉影片 (交換前景和背景色彩) 的旗標都有助於其他語言強調輸出的部分。</span><span class="sxs-lookup"><span data-stu-id="a4982-158">With exception of the leading byte and trailing byte flags, the remaining flags describing line drawing and reverse video (../swap foreground and background colors) can be useful for other languages to emphasize portions of output.</span></span><br /><br /><span data-ttu-id="a4982-159">設定此主控台模式旗標可讓您在每種語言的每個字碼頁中使用這些屬性。</span><span class="sxs-lookup"><span data-stu-id="a4982-159">Setting this console mode flag will allow these attributes to be used in every code page on every language.</span></span><br /><br /><span data-ttu-id="a4982-160">此旗標預設為關閉，來與過去利用主控台的已知應用程式維持相容，而在非 CJK 電腦上忽略這些旗標，可針對自己的目的或意外地在這些欄位中儲存位元。</span><span class="sxs-lookup"><span data-stu-id="a4982-160">It is off by default to maintain compatibility with known applications that have historically taken advantage of the console ignoring these flags on non-CJK machines to store bits in these fields for their own purposes or by accident.</span></span><br /><br /><span data-ttu-id="a4982-161">請注意，使用 ENABLE_VIRTUAL_TERMINAL_PROCESSING 模式可能導致設定 LVB 格線和反轉影片旗標，而當附加的應用程式透過 **[主控台虛擬終端機序列](../console-virtual-terminal-sequences.md)** 要求加底線或倒轉影片時，此旗標仍會關閉。</span><span class="sxs-lookup"><span data-stu-id="a4982-161">Note that using the ENABLE_VIRTUAL_TERMINAL_PROCESSING mode can result in LVB grid and reverse video flags being set while this flag is still off if the attached application requests underlining or inverse video via **[Console Virtual Terminal Sequences](../console-virtual-terminal-sequences.md)**.</span></span> |